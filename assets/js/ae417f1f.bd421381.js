"use strict";(self.webpackChunkmesodocs=self.webpackChunkmesodocs||[]).push([[936],{4137:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>b});var r=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var u=r.createContext({}),l=function(e){var t=r.useContext(u),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},c=function(e){var t=l(e.components);return r.createElement(u.Provider,{value:t},e.children)},d="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},p=r.forwardRef((function(e,t){var n=e.components,i=e.mdxType,a=e.originalType,u=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),d=l(n),p=i,b=d["".concat(u,".").concat(p)]||d[p]||m[p]||a;return n?r.createElement(b,o(o({ref:t},c),{},{components:n})):r.createElement(b,o({ref:t},c))}));function b(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var a=n.length,o=new Array(a);o[0]=p;var s={};for(var u in t)hasOwnProperty.call(t,u)&&(s[u]=t[u]);s.originalType=e,s[d]="string"==typeof e?e:i,o[1]=s;for(var l=2;l<a;l++)o[l]=n[l];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}p.displayName="MDXCreateElement"},6205:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>u,contentTitle:()=>o,default:()=>m,frontMatter:()=>a,metadata:()=>s,toc:()=>l});var r=n(7462),i=(n(7294),n(4137));const a={title:"Comptabilit\xe9 et quotas",sidebar_position:3},o="Comptabilit\xe9 et quotas",s={unversionedId:"code_form/hedy/quotas",id:"code_form/hedy/quotas",title:"Comptabilit\xe9 et quotas",description:"L'utilisation de la machine est comptabilis\xe9e sur la base du nombre de GPU utilis\xe9s (1 heure GPU correspond \xe0 l'utilisation d'une carte H100 pendant une heure). Le cluster est compos\xe9 de 8 n\u0153uds, chacun avec 4 GPU H100. Le nombre d'heures GPU attribu\xe9es \xe0 chaque projet doit \xeatre sp\xe9cifi\xe9 lors de la cr\xe9ation de celui-ci, avec une limite maximale de 10000 heures GPU pouvant \xeatre demand\xe9e.",source:"@site/docs/code_form/hedy/quotas.md",sourceDirName:"code_form/hedy",slug:"/code_form/hedy/quotas",permalink:"/documentation/user-documentation/code_form/hedy/quotas",draft:!1,tags:[],version:"current",sidebarPosition:3,frontMatter:{title:"Comptabilit\xe9 et quotas",sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"Se connecter \xe0 Hedy",permalink:"/documentation/user-documentation/code_form/hedy/connexion"},next:{title:"Lancer un calcul",permalink:"/documentation/user-documentation/code_form/hedy/jobs"}},u={},l=[{value:"Stockage",id:"stockage",level:2},{value:"Limites de calcul",id:"limites-de-calcul",level:2},{value:"Informations utiles",id:"informations-utiles",level:2}],c={toc:l},d="wrapper";function m(e){let{components:t,...n}=e;return(0,i.kt)(d,(0,r.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"comptabilit\xe9-et-quotas"},"Comptabilit\xe9 et quotas"),(0,i.kt)("p",null,"L'utilisation de la machine est comptabilis\xe9e sur la base du nombre de GPU utilis\xe9s (1 heure GPU correspond \xe0 l'utilisation d'une carte H100 pendant une heure). Le cluster est compos\xe9 de 8 n\u0153uds, chacun avec 4 GPU H100. Le nombre d'heures GPU attribu\xe9es \xe0 chaque projet doit \xeatre sp\xe9cifi\xe9 lors de la cr\xe9ation de celui-ci, avec une limite maximale de 10000 heures GPU pouvant \xeatre demand\xe9e."),(0,i.kt)("h2",{id:"stockage"},"Stockage"),(0,i.kt)("p",null,"Une fois le projet valid\xe9, un dossier est cr\xe9\xe9 pour chaque membre du projet dans le ",(0,i.kt)("inlineCode",{parentName:"p"},"/home/")," de la machine (",(0,i.kt)("inlineCode",{parentName:"p"},"/home/<username>/"),"), ainsi qu'un dossier partag\xe9 pour tous les membres du projet o\xf9 ils peuvent partager librement des fichiers (",(0,i.kt)("inlineCode",{parentName:"p"},"/home/projects/<project_id>/"),"). Le dossier ",(0,i.kt)("inlineCode",{parentName:"p"},"/home/")," est accessible depuis tous les n\u0153uds du cluster et les quotas de stockage sont attribu\xe9s par d\xe9faut de la mani\xe8re suivante :"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null}),(0,i.kt)("th",{parentName:"tr",align:"center"},"Limite d'espace"),(0,i.kt)("th",{parentName:"tr",align:"center"},"Limite de fichiers"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"Utilisateur")),(0,i.kt)("td",{parentName:"tr",align:"center"},"500 Go"),(0,i.kt)("td",{parentName:"tr",align:"center"},"5000000")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"Projet")),(0,i.kt)("td",{parentName:"tr",align:"center"},"1000 Go"),(0,i.kt)("td",{parentName:"tr",align:"center"},"10000000")))),(0,i.kt)("h2",{id:"limites-de-calcul"},"Limites de calcul"),(0,i.kt)("p",null,"Par ailleurs, certaines limites de calcul sont d\xe9finies par d\xe9faut dans Slurm afin de garantir une utilisation \xe9quilibr\xe9e et \xe9quitable du cluster pour tous les utilisateurs. Le nombre maximal de GPU qu'un utilisateur peut occuper simultan\xe9ment est de 4 H100, ce qui \xe9quivaut aux ressources d'un n\u0153ud complet.  De m\xeame, le nombre maximal de jobs qu'un utilisateur peut lancer, y compris les jobs en attente d'ex\xe9cution, est de 10."),(0,i.kt)("p",null,"Il est important que tous les utilisateurs respectent ces r\xe8gles afin de garantir une utilisation raisonnable des ressources du cluster. Si une modification de ces limites et quotas s'av\xe8re n\xe9cessaire, une demande sp\xe9ciale et d\xfbment justifi\xe9e devra \xeatre remplie afin de faire l'objet d'une \xe9valuation avant d'\xeatre valid\xe9e en fonction des disponibilit\xe9s."),(0,i.kt)("h2",{id:"informations-utiles"},"Informations utiles"),(0,i.kt)("p",null,"La commande ",(0,i.kt)("inlineCode",{parentName:"p"},"hedy_info")," peut \xeatre lanc\xe9e depuis les frontales de login pour obtenir des informations pertinentes sur le projet, telles que le nombre d'heures attribu\xe9es, la consommation actuelle, l'utilisation du disque dur et les jobs r\xe9cents. L'option ",(0,i.kt)("inlineCode",{parentName:"p"},"-e")," peut \xeatre utilis\xe9e pour obtenir ces m\xeames informations en anglais."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"[user2@m-login01 ~]$ hedy_info \n\nUTILISATEUR: user2\n\n-------------------------------------------------------------------------------------------\nPROJET: m20000\nATTRIBUTION: 5002.00 heures GPU\nUTILIS\xc9: 20.47 heures GPU (0.41%)\n\xc9NERGIE CONSOMM\xc9E: 0.09 kWh (0.32 MJ)\nD\xc9TAILS DE LA CONSOMMATION:\n           Utilisateur     | Utilis\xe9 (h)     | %          | \xc9nergie (kWh)\n           user1           | 13.18           | 0.26       | 0.04\n           user2           | 7.28            | 0.15       | 0.04\nQUOTA DISQUE:\n                          ||                     ESPACE                     ||                    FICHIERS      \n                          || Utilis\xe9      | Limite Faible  | Limite Dure    || Utilis\xe9      | Limite Faible  | Limite Dure   \n           m20000         || 0K           | 900G           | 1000G          || 1            | 9000k          | 10000k        \n           user1          || Informations confidentielles de l'utilisateur  || Informations confidentielles de l'utilisateur \n           user2          || 48K          | 450G           | 500G           || 13           | 4500k          | 5000k         \nDERNIERS JOBS:\n           JobID    | JobName              | User         | \xc9tat               | D\xe9but                | \xc9coul\xe9     | AllocTRES\n           5095     | sleep_job            | user2        | COMPLETED          | 2025-08-13T14:32:20  | 00:10:02   | billing=16,cpu=64,energy=546910,gres/gpu:gh100=4,gres/gpu=4,mem=480000M,node=1\n           5101     | test_job             | user1        | COMPLETED          | 2025-08-16T15:30:11  | 00:10:01   | billing=8,cpu=32,energy=266730,gres/gpu:gh100=2,gres/gpu=2,mem=240000M,node=1\n           5126     | sleep_job2           | user2        | FAILED             | None                 | 00:00:00   | \n           5127     | test_job2            | user1        | COMPLETED          | 2025-08-19T15:31:36  | 00:10:01   | billing=16,cpu=64,energy=535860,gres/gpu:gh100=4,gres/gpu=4,mem=480000M,node=1\n")))}m.isMDXComponent=!0}}]);