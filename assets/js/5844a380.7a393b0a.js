"use strict";(self.webpackChunkmesodocs=self.webpackChunkmesodocs||[]).push([[6929],{4137:(e,r,n)=>{n.d(r,{Zo:()=>c,kt:()=>v});var t=n(7294);function i(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function a(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function s(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?a(Object(n),!0).forEach((function(r){i(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}function o(e,r){if(null==e)return{};var n,t,i=function(e,r){if(null==e)return{};var n,t,i={},a=Object.keys(e);for(t=0;t<a.length;t++)n=a[t],r.indexOf(n)>=0||(i[n]=e[n]);return i}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(t=0;t<a.length;t++)n=a[t],r.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var u=t.createContext({}),l=function(e){var r=t.useContext(u),n=r;return e&&(n="function"==typeof e?e(r):s(s({},r),e)),n},c=function(e){var r=l(e.components);return t.createElement(u.Provider,{value:r},e.children)},p="mdxType",d={inlineCode:"code",wrapper:function(e){var r=e.children;return t.createElement(t.Fragment,{},r)}},m=t.forwardRef((function(e,r){var n=e.components,i=e.mdxType,a=e.originalType,u=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),p=l(n),m=i,v=p["".concat(u,".").concat(m)]||p[m]||d[m]||a;return n?t.createElement(v,s(s({ref:r},c),{},{components:n})):t.createElement(v,s({ref:r},c))}));function v(e,r){var n=arguments,i=r&&r.mdxType;if("string"==typeof e||i){var a=n.length,s=new Array(a);s[0]=m;var o={};for(var u in r)hasOwnProperty.call(r,u)&&(o[u]=r[u]);o.originalType=e,o[p]="string"==typeof e?e:i,s[1]=o;for(var l=2;l<a;l++)s[l]=n[l];return t.createElement.apply(null,s)}return t.createElement.apply(null,n)}m.displayName="MDXCreateElement"},7585:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>u,contentTitle:()=>s,default:()=>d,frontMatter:()=>a,metadata:()=>o,toc:()=>l});var t=n(7462),i=(n(7294),n(4137));const a={},s="F.A.Q",o={unversionedId:"code_form/phileas/faq",id:"code_form/phileas/faq",title:"F.A.Q",description:"Erreurs de connexion",source:"@site/docs/code_form/phileas/99_faq.md",sourceDirName:"code_form/phileas",slug:"/code_form/phileas/faq",permalink:"/documentation/user-documentation/code_form/phileas/faq",draft:!1,tags:[],version:"current",sidebarPosition:99,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"D\xe9tails sur Slurm",permalink:"/documentation/user-documentation/code_form/phileas/use/slurm_details"},next:{title:"Description",permalink:"/documentation/user-documentation/code_form/hedy/description"}},u={},l=[{value:"Erreurs de connexion",id:"erreurs-de-connexion",level:2},{value:"Lorsque je veux me connecter, on me dit que ma cl\xe9 n&#39;est pas prot\xe9g\xe9e",id:"lorsque-je-veux-me-connecter-on-me-dit-que-ma-cl\xe9-nest-pas-prot\xe9g\xe9e",level:3},{value:"Je n&#39;arrive pas \xe0 me connecter, j&#39;ai simplement un message d&#39;erreur &quot;Permission denied&quot;",id:"je-narrive-pas-\xe0-me-connecter-jai-simplement-un-message-derreur-permission-denied",level:3},{value:"Mon certificat est-il invalide ?",id:"mon-certificat-est-il-invalide-",level:4},{value:"Ma configuration SSH est-elle bonne ?",id:"ma-configuration-ssh-est-elle-bonne-",level:4},{value:"Je n&#39;arrive toujours pas \xe0 me connecter",id:"je-narrive-toujours-pas-\xe0-me-connecter",level:4},{value:"Erreurs de Slurm",id:"erreurs-de-slurm",level:2},{value:"Je n&#39;arrive pas a soumettre de jobs, j&#39;ai une erreur d&#39;account ou de partition",id:"je-narrive-pas-a-soumettre-de-jobs-jai-une-erreur-daccount-ou-de-partition",level:3},{value:"Erreurs diverses",id:"erreurs-diverses",level:2},{value:"Je n&#39;arrive pas \xe0 r\xe9cup\xe9rer de fichier depuis internet / je n&#39;arrive pas \xe0 cloner un d\xe9p\xf4t Git HTTP",id:"je-narrive-pas-\xe0-r\xe9cup\xe9rer-de-fichier-depuis-internet--je-narrive-pas-\xe0-cloner-un-d\xe9p\xf4t-git-http",level:3}],c={toc:l},p="wrapper";function d(e){let{components:r,...n}=e;return(0,i.kt)(p,(0,t.Z)({},c,n,{components:r,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"faq"},"F.A.Q"),(0,i.kt)("h2",{id:"erreurs-de-connexion"},"Erreurs de connexion"),(0,i.kt)("h3",{id:"lorsque-je-veux-me-connecter-on-me-dit-que-ma-cl\xe9-nest-pas-prot\xe9g\xe9e"},"Lorsque je veux me connecter, on me dit que ma cl\xe9 n'est pas prot\xe9g\xe9e"),(0,i.kt)("p",null,"Si, lors d'une connexion SSH, vous obtenez un message similaire \xe0 : "),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\n@         WARNING: UNPROTECTED PRIVATE KEY FILE!          @\n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\nPermissions 0777 for '/home/xx/.ssh/phileas_key' are too open.\nIt is required that your private key files are NOT accessible by others.\nThis private key will be ignored.\nLoad key \"/home/xx/.ssh/phileas_key\": bad permissions\nxxxxx@bastion.phileas.ec-nantes.fr: Permission denied (publickey).\nConnection closed by UNKNOWN port 65535\n")),(0,i.kt)("p",null,"Cela signifie que les permissons de votre cl\xe9 priv\xe9e ",(0,i.kt)("inlineCode",{parentName:"p"},"phileas_key")," sont trop ouvertes, et SSH refusera de l'utiliser pour se connecter \xe0 Phileas. Pour r\xe9gler ce probl\xe8me, sous Linux, effectuez la commande suivante sur votre cl\xe9 priv\xe9e (ajustez l'emplacement de la cl\xe9 si vous n'avez pas utilis\xe9 l'emplacement pr\xe9conis\xe9) :"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"chmod 0600 ~/.ssh/phileas_key\n")),(0,i.kt)("p",null,"et retentez le SSH."),(0,i.kt)("h3",{id:"je-narrive-pas-\xe0-me-connecter-jai-simplement-un-message-derreur-permission-denied"},"Je n'arrive pas \xe0 me connecter, j'ai simplement un message d'erreur \"Permission denied\""),(0,i.kt)("p",null,"Cette erreur est malheureusement tr\xe8s g\xe9n\xe9rique et peut avoir plusieurs causes diff\xe9rentes. Testez les \xe9tapes suivantes avant d'ouvrir un ticket support MesoNET."),(0,i.kt)("h4",{id:"mon-certificat-est-il-invalide-"},"Mon certificat est-il invalide ?"),(0,i.kt)("p",null,"Inspectez votre certificat avec la commande :"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"ssh-keygen -L -f ~/.ssh/phileas_key-cert.pub\n")),(0,i.kt)("p",null,"Dans le r\xe9sultat, v\xe9rifiez que la date d'expiration du certificat n'est pas pass\xe9e (appel\xe9 'Valid' dans le certificat), que le nom d'utilisateur (appel\xe9 'principal') est correct, et que les adresses IP int\xe9gr\xe9es (appel\xe9es 'source-address') correspondent bien \xe0 celles que vous avez indiqu\xe9 sur ",(0,i.kt)("a",{parentName:"p",href:"https://auth.phileas.ec-nantes.fr"},"https://auth.phileas.ec-nantes.fr")," . ",(0,i.kt)("strong",{parentName:"p"},"Notez que l'adresse IP 130.66.159.6/32 est n\xe9cessaire pour fonctionner, et n'appara\xeet pas dans la bo\xeete de dialogue de saisie d'adresse"),"."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'Type: ssh-ed25519-cert-v01@openssh.com user certificate\nPublic key: ED25519-CERT SHA256:UdLlHCFe008eXtSiSFKAt8DPR6uRDAZRhdwwN7Zvr8g\nSigning CA: ED25519 SHA256:S9GJbecpkIwhdEDY1iLOIrZxPZGKqQOJ9eP+sWfqVec (using ssh-ed25519)\nKey ID: "pbondial@ec-nantes.fr-external"\nSerial: 2712428235499462096\nValid: from 2024-11-13T15:48:33 to 2024-12-13T15:49:03\nPrincipals: \n        pbondial@ec-nantes.fr\nCritical Options: \n        source-address 130.66.120.1/32,130.66.159.6/32\nExtensions: \n        permit-X11-forwarding\n        permit-agent-forwarding\n        permit-port-forwarding\n        permit-pty\n')),(0,i.kt)("h4",{id:"ma-configuration-ssh-est-elle-bonne-"},"Ma configuration SSH est-elle bonne ?"),(0,i.kt)("p",null,"V\xe9rifiez que votre bloc de configuration SSH relatif \xe0 Phileas ne comporte pas d'erreur (pas de chemin de cl\xe9 erron\xe9, pas de modification du nom d'utilisateur, etc.)"),(0,i.kt)("h4",{id:"je-narrive-toujours-pas-\xe0-me-connecter"},"Je n'arrive toujours pas \xe0 me connecter"),(0,i.kt)("p",null,"Ouvrez un ticket de support MesoNET pour Phileas."),(0,i.kt)("h2",{id:"erreurs-de-slurm"},"Erreurs de Slurm"),(0,i.kt)("h3",{id:"je-narrive-pas-a-soumettre-de-jobs-jai-une-erreur-daccount-ou-de-partition"},"Je n'arrive pas a soumettre de jobs, j'ai une erreur d'account ou de partition"),(0,i.kt)("p",null,"Si vous obtenez un message similaire \xe0 ",(0,i.kt)("inlineCode",{parentName:"p"},"srun: error: Unable to allocate resources: Invalid account or account/partition combination specified")," lorsque vous tentez de soumettre un job, v\xe9rifiez dans un premier temps l'account que vous avez sp\xe9cifi\xe9 dans votre script. Cet account doit correspondre \xe0 un projet sp\xe9cifique, et il faut que vous en fassiez partie. Vous pouvez lister les accounts auquels vous appartenez en lan\xe7ant la commande :"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'sacctmgr show user user=$USER format="user%30,account%30" withass\n')),(0,i.kt)("h2",{id:"erreurs-diverses"},"Erreurs diverses"),(0,i.kt)("h3",{id:"je-narrive-pas-\xe0-r\xe9cup\xe9rer-de-fichier-depuis-internet--je-narrive-pas-\xe0-cloner-un-d\xe9p\xf4t-git-http"},"Je n'arrive pas \xe0 r\xe9cup\xe9rer de fichier depuis internet / je n'arrive pas \xe0 cloner un d\xe9p\xf4t Git HTTP"),(0,i.kt)("p",null,"Si, en tentant de r\xe9cup\xe9rer des fichiers divers, vous obtenez une erreur de type ",(0,i.kt)("inlineCode",{parentName:"p"},"403 Forbidden")," en lien avec un proxy, il est n\xe9cessaire de nous faire part du domaine que vous souhaitez autoriser."),(0,i.kt)("p",null,"Exemple d'erreur avec curl :"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'[pbondial-adm@phileas-devel-001 ~]$ curl "https://korben.info"\ncurl: (56) Received HTTP code 403 from proxy after CONNECT\n')),(0,i.kt)("p",null,"Cette erreur indique que le domaine que vous souhaitez joindre n'a pas \xe9t\xe9 explicitement autoris\xe9 \xe0 \xeatre contact\xe9 depuis Phileas. Vous pouvez ouvrir un ticket de support en indiquant clairement quel nom de domaine vous souhaitez autoriser, et pour quelle utilit\xe9."))}d.isMDXComponent=!0}}]);